{% extends "base.html" %}
{% block title %}Zarejestruj użytkownika{% endblock %}
{% block content %}
<style>
  .container {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    background-color: rgb(250,250,250,1);
    color: #000000;
    padding: 20px;
    border-radius: 15px;
    width: 80%;
    margin-top: 2%;
    position: relative;
  }
  .image-outside-container {
    position: absolute;
    left: -10px;
  }
  .image-container {
    flex: 1;
    text-align: center;
    margin-right: 20px;
  }
  .image-container img {
    max-width: 100%;
    height: auto;
    border-radius: 15px;
  }
  .container_signup_user {
    flex: 1;
    background-color: rgba(180, 233, 229, 0.5);
    color: #000000;
    border-radius: 15px;
    padding: 30px;
    margin-top: 20px;
    align-items: flex-start;
    text-align: center;
  }
  .custom-file-upload, .btn-register {
    border: 1px solid #ccc;
    display: inline-block;
    padding: 6px 12px;
    cursor: pointer;
    border-radius: 5px;
    background-color: #467a7a; 
    color: #ffffff; 
    text-decoration: none;
  }
  .custom-file-upload input[type="file"] {
    display: none;
  }
  .file-name {
    margin-top: 10px;
    font-style: italic;
  }
  .remove-file {
    display: none;
    margin-top: 10px;
    cursor: pointer;
    color: #ffffff;
    background-color: #ff0000;
    padding: 6px 12px;
    border-radius: 5px;
    border: 1px solid #ff0000;
    text-decoration: none;
  }

  @media (max-width: 1200px) {
    .image-outside-container {
      position: relative;
      left: 0;
      margin-bottom: 20px;
      text-align: center;
    }
    .container {
      flex-direction: column;
    }
  }

  @media (max-width: 768px) {
    .container {
      width: 100%;
      padding: 10px;
    }
    .container_signup_user {
      padding: 20px;
    }
    .image-container img {
      max-width: 80%;
    }
  }
</style>

<div class="container">
  <div class="image-outside-container">
    <img src="{{ url_for('static', filename='info.png') }}" alt="Zdjęcie">
  </div>
  <div class="image-container">
  </div>
  <div class="container_signup_user">
    <h1>Zarejestruj się</h1>
    <form method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="email">Adres e-mail</label>
        <input type="email" class="form-control" id="email" name="email" placeholder="Wpisz email">
      </div>
      <div class="form-group">
        <label for="username">Nazwa użytkownika</label>
        <input type="text" class="form-control" id="username" name="username" placeholder="Wpisz nazwę użytkownika">
      </div>
      <div class="form-group">
        <label for="name">Imię</label>
        <input type="text" class="form-control" id="name" name="name" placeholder="Wpisz imię">
      </div>
      <div class="form-group">
        <label for="surname">Nazwisko</label>
        <input type="text" class="form-control" id="surname" name="surname" placeholder="Wpisz nazwisko">
      </div>
      <div class="form-group">
        <label for="address">Adres</label>
        <input type="text" class="form-control" id="address" name="address" placeholder="Wpisz adres">
      </div>
      <div class="form-group">
        <label for="pesel">Pesel</label>
        <input type="number" class="form-control" id="pesel" name="pesel" placeholder="Wpisz pesel">
      </div>
      <div class="form-group">
        <label for="password1">Hasło</label>
        <input type="password" class="form-control" id="password1" name="password1" placeholder="Wpisz hasło">
      </div>
      <div class="form-group">
        <label for="password2">Potwierdź hasło</label>
        <input type="password" class="form-control" id="password2" name="password2" placeholder="Potwierdź hasło">
      </div>
      <div class="form-group">
        <label for="document_image">Zdjęcie dokumentu potwierdzającego tożsamość</label>
        <label class="custom-file-upload">
          <input type="file" id="document_image" name="document_image" />
          Wybierz plik
        </label>
        <div class="file-name" id="file-name">Brak wybranego pliku</div>
        <button type="button" class="remove-file" id="remove-file">Usuń wybrany plik</button>
      </div>
      <br>
      <button type="submit" class="btn btn-register">Zarejestruj</button>
    </form>
  </div>
</div>

<script>
  document.getElementById('document_image').addEventListener('change', function() {
    var fileName = this.files[0] ? this.files[0].name : 'Brak wybranego pliku';
    document.getElementById('file-name').textContent = fileName;
    document.getElementById('remove-file').style.display = 'inline-block';
  });

  document.getElementById('remove-file').addEventListener('click', function() {
    document.getElementById('document_image').value = '';
    document.getElementById('file-name').textContent = 'Brak wybranego pliku';
    this.style.display = 'none';
  });
</script>
{% endblock %}
